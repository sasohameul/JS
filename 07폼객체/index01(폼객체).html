<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <form name="actionForm">

        <h3>가입창</h3>

        이름: <input type="text" name="name"> 
                                            <!-- 포커스가 빠질때 동작하는 onblur -->
        번호: <input type="text" name="phone" onblur="phoneFunc()">

        분야:
        <input type="checkbox" name="check">css
        <input type="checkbox" name="check">js
        <input type="checkbox" name="check">html

        <input type="submit" value="확인" id="btn">

    </form>

    <script>

        /* 
        폼태그는 document의 자식 중 하나로 유일하게 name 속성으로 접근 할 수 있습니다.
        input태그는 폼태그의 자식이어서 다시, name속성으로 접근 할 수 있습니다.
        */

        //console.log(document.actionForm);
        //console.log(document.actionForm.name); //input태그 중 name=name인 속성

        var btn = document.getElementById("btn");

        function phoneFunc(){

            //document.actionForm.phone.value = document.actionForm.phone.value.replaceAll('-','');
            var phone = document.querySelector("input[name='phone']");
            
           phone.value = phone.value.replaceAll('-','');


        }

        btn.onclick = function(){

            event.preventDefault(); //고유이벤트 중단

            if(document.actionForm.name.value == ''){

                alert('아이디는 필수 입니다.');
                document.actionForm.name.focus(); //인풋태그에 포커스
                return; //함수종료 꼭 해주어야한다.

                        //문자열의 길이
            } else if (document.actionForm.phone.value.length != 11){

                alert('번호는 - 없이 11글자입니다.');
                document.actionForm.phone.focus();
                return;

            } else {
                
                //var check = document.querySelectorAll(".check");
                var check = document.actionForm.check; //querySelectAll과 똑같이 배열로 잡힘
                var cnt = 0;
                for(var i = 0; i < check.length; i++){
                   if(check[i].checked) {

                    cnt++;
                   }

                }

                if(cnt == 0){
                    alert('분야는 적어도 1개의 옵션을 선택하세요');
                    return;

                }
            }

            //폼.submit();
            document.actionForm.submit();
            
        }



    </script>








</body>

</html>